<!doctype html>
<html lang="en">
  <head>
    <title>Mantis React Admin Dashboard</title>
    <link rel="icon" href="/favicon.svg" />

    <!-- Meta Tags-->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#1677ff" />
    <!-- Content Security Policy - —Ä–∞–∑—Ä–µ—à–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è React SPA -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net data: blob:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com data:; img-src 'self' data: https: blob:; connect-src 'self' https: wss: data:; media-src 'self' data: blob:; object-src 'none'; frame-src 'none';" />
    <meta name="title" content="Mantis - React Admin Dashboard Template by CodedThemes" />
    <meta
      name="description"
      content="Start your next React project with Mantis admin template. It build with Reactjs, Material-UI, SWR, and Hook for faster web development."
    />
    <meta
      name="keywords"
      content="react admin template, material-ui react dashboard template, reactjs admin template, reactjs dashboard, react backend template"
    />
    <meta name="author" content="CodedThemes" />
    <link rel="apple-touch-icon" href="/logo192.png" />

    <!-- Performance hints for Vite -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- DNS prefetch for external resources -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="dns-prefetch" href="//fonts.gstatic.com" />

    <!-- Preload critical resources for better FCP -->
    <link rel="modulepreload" href="/src/index.jsx" />
    <link rel="modulepreload" href="/src/App.jsx" />
    
    <!-- Fonts are loaded via @fontsource packages in src/index.jsx -->

    <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞–Ω–∫–æ–≤ (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ Vite –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) -->
    <!-- Critical CSS preload hint -->
    <meta name="preload-chunks" content="react-vendor,mui-core,antd-core" />

    <!-- MIME Type Fix - CRITICAL: Must load before any modules -->
    <script>
      console.log('üîß Critical MIME Type fix loading...');
      
      // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ MIME —Ç–∏–ø–∞
      window.addEventListener('error', function(event) {
        if (event.message && event.message.includes('MIME type')) {
          console.log('üõ†Ô∏è Critical: MIME type error intercepted in HTML');
          event.preventDefault();
          return false;
        }
      });
      
      // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º MIME —Ç–∏–ø–æ–º
      if (window.import) {
        const originalImport = window.import;
        window.import = function(url) {
          if (typeof url === 'string' && url.includes('text/jsx')) {
            url = url.replace('text/jsx', 'application/javascript');
            console.log('üõ†Ô∏è Fixed MIME type in import URL');
          }
          return originalImport(url);
        };
      }
      
      console.log('‚úÖ Critical MIME Type fix ready');
    </script>
    
    <!-- AsyncMode Polyfill - CRITICAL: Must load before any React code -->
    <script>
      console.log('üõ°Ô∏è Critical AsyncMode polyfill loading...');
      
      // 1. –°–æ–∑–¥–∞–µ–º AsyncMode stub —Ñ—É–Ω–∫—Ü–∏—é
      window.__AsyncModeStub = function AsyncModePolyfill(props) {
        return props && props.children ? props.children : null;
      };
      window.__AsyncModeStub.$$typeof = Symbol.for('react.async_mode');
      window.__AsyncModeStub.displayName = 'AsyncMode (Critical Polyfill)';
      
      // 2. –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –ª—é–±—ã–µ –ø–æ–ø—ã—Ç–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å AsyncMode –∫–∞–∫ undefined
      const originalDefineProperty = Object.defineProperty;
      Object.defineProperty = function(obj, prop, descriptor) {
        if (prop === 'AsyncMode') {
          console.log('üõ°Ô∏è Critical: Intercepting AsyncMode defineProperty');
          if (!descriptor || descriptor.value === undefined) {
            descriptor = {
              value: window.__AsyncModeStub,
              writable: false,
              enumerable: false,
              configurable: true
            };
          }
        }
        return originalDefineProperty.call(this, obj, prop, descriptor);
      };
      
      // 3. –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
      window.addEventListener('error', function(event) {
        if (event.message && event.message.includes('AsyncMode')) {
          console.log('üõ°Ô∏è Critical: AsyncMode error intercepted in HTML');
          event.preventDefault();
          return false;
        }
      });
      
      console.log('‚úÖ Critical AsyncMode polyfill ready');
    </script>
    
    <!-- MIME Type Fix - –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å JSX MIME —Ç–∏–ø–∞–º–∏ -->
    <script>
      console.log('üîß MIME Type fix loading...');
      
      // –ü–∞—Ç—á –¥–ª—è fetch API –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ JSX —Ñ–∞–π–ª–æ–≤
      const originalFetch = window.fetch;
      window.fetch = function(resource, init) {
        // –ï—Å–ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º JSX —Ñ–∞–π–ª, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
        if (typeof resource === 'string' && (resource.includes('.jsx') || resource.includes('text/jsx'))) {
          console.log('üîß MIME Fix: Patching JSX request:', resource);
          init = init || {};
          init.headers = init.headers || {};
          init.headers['Accept'] = 'application/javascript, text/javascript, */*';
        }
        return originalFetch.call(this, resource, init);
      };
      
      // –ü–µ—Ä–µ—Ö–≤–∞—Ç –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π
      window.addEventListener('error', function(event) {
        if (event.message && event.message.includes('MIME type')) {
          console.log('üîß MIME Error intercepted:', event.message);
          event.preventDefault();
          return false;
        }
      });
      
      console.log('‚úÖ MIME Type fix ready');
    </script>
    
    <!-- this is to resolve issue in old safari browser in tablet -->
    <script src="https://cdn.jsdelivr.net/npm/resize-observer-polyfill@1.5.1/dist/ResizeObserver.min.js"></script>
    <!-- Buy Now script removed - causes domain errors in production -->
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root">
      <!-- –ü—Ä–æ—Å—Ç–æ–π loading spinner –¥–ª—è Lighthouse -->
      <div id="initial-loader" style="
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        z-index: 9999;
      ">
        <div style="
          width: 40px; height: 40px;
          border: 3px solid #f3f3f3;
          border-top: 3px solid #1677ff;
          border-radius: 50%;
          animation: spin 1s linear infinite;
          margin-bottom: 16px;
        "></div>
        <p style="margin: 0; color: #666; font-size: 14px;">–ó–∞–≥—Ä—É–∑–∫–∞ SMETA360...</p>
      </div>
      <style>
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      </style>
    </div>
    <!--
      This HTML file is a template.
      If you open it directly in the browser, you will see an empty page.

      You can add webfonts, meta tags, or analytics to this file.
      The build step will place the bundled scripts into the <body> tag.

      To begin the development, run `npm start` or `yarn start`.
      To create a production bundle, use `npm run build` or `yarn build`.
    -->
    <script type="module" src="/src/index.jsx"></script>
  </body>
</html>
