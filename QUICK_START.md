# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç SMETA360

## ‚úÖ –°–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞!

### üìä –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 17.6 –Ω–∞ Aiven Cloud
- ‚úÖ **Backend —Å–µ—Ä–≤–µ—Ä**: –ó–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3001
- ‚úÖ **Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: –ó–∞–ø—É—â–µ–Ω–æ –Ω–∞ –ø–æ—Ä—Ç—É 3000
- ‚úÖ **–¢–∞–±–ª–∏—Ü—ã –≤ –ë–î**: 20+ —Ç–∞–±–ª–∏—Ü —Å –¥–∞–Ω–Ω—ã–º–∏

---

## üéØ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```powershell
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
cd Smeta360-3

# –ó–∞–ø—É—Å–∫ backend —Å–µ—Ä–≤–µ—Ä–∞
$env:NODE_TLS_REJECT_UNAUTHORIZED = "0"
cd server
node start-server.mjs
```

–û—Ç–∫—Ä–æ–π—Ç–µ **–Ω–æ–≤–æ–µ –æ–∫–Ω–æ PowerShell** –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ frontend:

```powershell
cd Smeta360-3
npm start
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ npm —Å–∫—Ä–∏–ø—Ç—ã

```powershell
# Backend (–≤ –æ–¥–Ω–æ–º –æ–∫–Ω–µ)
cd Smeta360-3/server
$env:NODE_TLS_REJECT_UNAUTHORIZED = "0"
node start-server.mjs

# Frontend (–≤ –¥—Ä—É–≥–æ–º –æ–∫–Ω–µ)
cd Smeta360-3
npm start
```

---

## üåê –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

- **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: http://localhost:3000
- **Backend API**: http://localhost:3001/api/health
- **–¢–µ—Å—Ç API**: http://localhost:3001/api/test

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª `.env` (–≤ –ø–∞–ø–∫–µ `server/`)

```env
# Database Configuration
DATABASE_URL=postgres://username:password@your-host.aivencloud.com:11433/defaultdb?sslmode=require
DATABASE_CA_CERT_PATH=./ca.pem
DATABASE_SSLMODE=prefer

# JWT Secrets
JWT_SECRET=smeta360-jwt-secret-key-2025-production-change-me
JWT_REFRESH_SECRET=smeta360-jwt-refresh-secret-key-2025-production-change-me

# Security
BCRYPT_SALT_ROUNDS=12

# Server Configuration
PORT=3001
NODE_ENV=development

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Disable TLS certificate verification for Aiven Cloud
NODE_TLS_REJECT_UNAUTHORIZED=0
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `NODE_TLS_REJECT_UNAUTHORIZED=0` –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Aiven Cloud —Å self-signed —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º.

---

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞–º–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ backend
Invoke-RestMethod http://localhost:3001/api/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ frontend
Invoke-WebRequest http://localhost:3000 -UseBasicParsing
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤

```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Node.js
Get-Process node -ErrorAction SilentlyContinue | Stop-Process -Force

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã –ª–∏ –ø–æ—Ä—Ç—ã
Get-NetTCPConnection -LocalPort 3000,3001 -ErrorAction SilentlyContinue
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫

```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
Get-Process node | Stop-Process -Force

# –ü–æ–¥–æ–∂–¥–∞—Ç—å
Start-Sleep -Seconds 2

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞ (—Å–º. –í–∞—Ä–∏–∞–Ω—Ç 1 –≤—ã—à–µ)
```

---

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–º–µ—Ç
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- –ë–ª–æ—á–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### 2. –°–º–µ—Ç—ã –∑–∞–∫–∞–∑—á–∏–∫–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–º–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 3. –ö–∞—Ç–∞–ª–æ–≥–∏ –¥–∞–Ω–Ω—ã—Ö
- 1,448 –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- 540 —Ä–∞–±–æ—Ç
- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤
- –ü–æ–º–µ—â–µ–Ω–∏—è –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- **5-—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π**: super_admin, admin, project_manager, estimator, viewer
- **–ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å** —Å –∏–∑–æ–ª—è—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- **–ê—É–¥–∏—Ç** –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üìä API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ

```http
GET  /api/health              # –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
GET  /api/test                # –¢–µ—Å—Ç–æ–≤—ã–π endpoint
GET  /api/materials           # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
GET  /api/works               # –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ä–∞–±–æ—Ç
GET  /api/projects            # –ü—Ä–æ–µ–∫—Ç—ã
GET  /api/customer-estimates  # –°–º–µ—Ç—ã –∑–∞–∫–∞–∑—á–∏–∫–∞
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

```http
POST /api/auth/register       # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST /api/auth/login          # –í—Ö–æ–¥
POST /api/auth/logout         # –í—ã—Ö–æ–¥
GET  /api/auth/me             # –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
```

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```powershell
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
$env:NODE_TLS_REJECT_UNAUTHORIZED = "0"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ .env —Ñ–∞–π–ª–∞
Test-Path server/.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
cd server
node start-server.mjs
# –°–º–æ—Ç—Ä–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
```

### Frontend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ backend

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω: `Invoke-RestMethod http://localhost:3001/api/health`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `server/.env`
3. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç

```powershell
# –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3001
Get-NetTCPConnection -LocalPort 3001 | Select-Object OwningProcess

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
Stop-Process -Id <PID> -Force
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `README.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- `docs/api/` - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/reports/` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã
- `server/start-server.mjs` - –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ backend

---

## ‚ú® –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–°–∏—Å—Ç–µ–º–∞ **SMETA360** —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! üéâ

---

_–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 4 –æ–∫—Ç—è–±—Ä—è 2025_  
_–í–µ—Ä—Å–∏—è: 2.3.0_

